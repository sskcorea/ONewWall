(function(b){function v(f,a){var q,n,k,l;function u(a){r.start=o?a.pageX:a.pageY;a=parseInt(c.obj.css(h));q=a=="auto"?0:a;b(document).bind("mousemove",p);document.ontouchmove=function(a){b(document).unbind("mousemove");p(a.touches[0])};b(document).bind("mouseup",m);c.obj.bind("mouseup",m);c.obj[0].ontouchend=document.ontouchend=function(a){b(document).unbind("mouseup");c.obj.unbind("mouseup");m(a.touches[0])};return false}function s(j){d.ratio>=1||(j=b.event.fix(j||window.event),e-=(j.wheelDelta?
j.wheelDelta/120:-j.detail/3)*a.wheel,e=Math.min(d[a.axis]-i[a.axis],Math.max(0,e)),c.obj.css(h,e/k),d.obj.css(h,-e),j.preventDefault())}function m(){b(document).unbind("mousemove",p);b(document).unbind("mouseup",m);c.obj.unbind("mouseup",m);document.ontouchmove=c.obj[0].ontouchend=document.ontouchend=null;return false}function p(b){d.ratio>=1||(n=Math.min(g[a.axis]-c[a.axis],Math.max(0,q+((o?b.pageX:b.pageY)-r.start))),e=n*k,d.obj.css(h,-e),c.obj.css(h,n));return false}var i={obj:b(".panel-scrollpane",
f)},d={obj:b(".panel-content",f)};l=b(".ui-scrollbar",f);k=void 0;var g={obj:b(".ui-scrollbar-track",l)},c={obj:b(".ui-scrollbar-thumb",l)},o=a.axis=="x",h=o?"left":"top",t=o?"Width":"Height",e;q=0;n=0;var r={};this.update=function(b){i[a.axis]=i.obj[0]["offset"+t];d[a.axis]=d.obj[0]["scroll"+t];d.ratio=i[a.axis]/d[a.axis];l.toggleClass("disable",d.ratio>=1);g[a.axis]=a.size=="auto"?i[a.axis]:a.size;c[a.axis]=Math.min(g[a.axis],Math.max(0,a.sizethumb=="auto"?g[a.axis]*d.ratio:a.sizethumb));k=a.sizethumb==
"auto"?d[a.axis]/g[a.axis]:(d[a.axis]-i[a.axis])/(g[a.axis]-c[a.axis]);e=b=="relative"&&d.ratio<=1?Math.min(d[a.axis]-i[a.axis],Math.max(0,e)):0;e=b=="bottom"&&d.ratio<=1?d[a.axis]-i[a.axis]:isNaN(parseInt(b))?e:parseInt(b);c.obj.css(h,e/k);d.obj.css(h,-e);r.start=c.obj.offset()[h];b=t.toLowerCase();l.css(b,g[a.axis]);g.obj.css(b,g[a.axis]);c.obj.css(b,c[a.axis])};this.update();(function(){c.obj.bind("mousedown",u);c.obj[0].ontouchstart=function(a){a.preventDefault();c.obj.unbind("mousedown");u(a.touches[0]);
return false};g.obj.bind("mouseup",p);if(a.scroll&&this.addEventListener)f[0].addEventListener("DOMMouseScroll",s,false),f[0].addEventListener("mousewheel",s,false);else if(a.scroll)f[0].onmousewheel=s})();return this}b.tiny=b.tiny||{};b.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:true,size:"auto",sizethumb:"auto"}};b.fn.tinyscrollbar=function(f){f=b.extend({},b.tiny.scrollbar.options,f);this.each(function(){b(this).data("tsb",new v(b(this),f))});return this};b.fn.tinyscrollbar_update=function(f){return b(this).data("tsb").update(f)}})(jQuery);